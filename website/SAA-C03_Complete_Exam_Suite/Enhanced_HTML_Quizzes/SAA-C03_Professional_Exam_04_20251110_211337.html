<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AWS Solutions Architect Associate Exam - AWS Solutions Architect Associate certification preparation with industry best practices">
    <meta name="keywords" content="AWS, SAA-C03, Solutions Architect, Practice Exam, Certification, Professional">
    <meta name="author" content="AWS Solutions Architect Associate Exam Suite">
    <title>AWS Solutions Architect Associate Practice Exam (SAA-C03) | Professional Certification Prep</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéØ</text></svg>">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="AWS Solutions Architect Associate Practice Exam 04">
    <meta property="og:description" content="AWS Solutions Architect Associate certification practice exam with industry best practices">
    <meta property="og:type" content="website">
    
    <style>
        :root {
            --primary-color: #232f3e;
            --secondary-color: #ff9900;
            --accent-color: #007cba;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --light-bg: #f8f9fa;
            --border-color: #dee2e6;
            --text-primary: #2c3e50;
            --text-secondary: #6c757d;
            --shadow-light: 0 2px 10px rgba(0,0,0,0.1);
            --shadow-medium: 0 4px 15px rgba(0,0,0,0.15);
            --shadow-heavy: 0 8px 25px rgba(0,0,0,0.2);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .exam-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            box-shadow: var(--shadow-heavy);
        }
        
        /* Header Styles */
        .exam-header {
            background: var(--primary-color);
            color: white;
            padding: 20px 30px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow-light);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .exam-title {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .aws-logo {
            font-size: 2em;
            color: var(--secondary-color);
        }
        
        .title-text h1 {
            font-size: 1.5em;
            font-weight: 600;
        }
        
        .title-text p {
            font-size: 0.9em;
            opacity: 0.8;
            margin-top: 2px;
        }
        
        .exam-controls {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .timer-display {
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            border-radius: 25px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-family: 'Courier New', monospace;
        }
        
        .timer-icon {
            color: var(--secondary-color);
        }
        
        .control-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }
        
        .control-btn:hover {
            background: #005a8b;
            transform: translateY(-2px);
        }
        
        /* Progress Bar */
        .progress-container {
            background: var(--light-bg);
            padding: 15px 30px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            font-size: 0.9em;
            color: var(--text-secondary);
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--success-color));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        /* Navigation Panel */
        .nav-panel {
            background: var(--light-bg);
            padding: 20px 30px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .question-nav {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
            gap: 8px;
            max-width: 800px;
        }
        
        .nav-btn {
            width: 40px;
            height: 40px;
            border: 2px solid var(--border-color);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
            transition: var(--transition);
        }
        
        .nav-btn:hover {
            border-color: var(--accent-color);
            transform: scale(1.05);
        }
        
        .nav-btn.answered {
            background: var(--success-color);
            color: white;
            border-color: var(--success-color);
        }
        
        .nav-btn.flagged {
            background: var(--warning-color);
            color: var(--text-primary);
            border-color: var(--warning-color);
        }
        
        .nav-btn.current {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }
        
        /* Question Styles */
        .question-container {
            padding: 30px;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .question-info {
            flex: 1;
        }
        
        .question-number {
            font-size: 1.4em;
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 5px;
        }
        
        .question-domain {
            background: var(--accent-color);
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 500;
            display: inline-block;
        }
        
        .question-actions {
            display: flex;
            gap: 10px;
        }
        
        .flag-btn {
            background: none;
            border: 2px solid var(--warning-color);
            color: var(--warning-color);
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
        }
        
        .flag-btn.flagged {
            background: var(--warning-color);
            color: var(--text-primary);
        }
        
        .question-text {
            font-size: 1.1em;
            line-height: 1.7;
            margin: 25px 0;
            color: var(--text-primary);
        }
        
        /* Options Styles */
        .options-container {
            margin: 30px 0;
        }
        
        .option {
            margin: 15px 0;
            padding: 20px;
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            background: white;
            position: relative;
        }
        
        .option:hover {
            border-color: var(--accent-color);
            background: #f0f8ff;
            transform: translateX(5px);
        }
        
        .option.selected {
            border-color: var(--accent-color);
            background: #e7f3ff;
            box-shadow: var(--shadow-medium);
        }
        
        .option-content {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .option-input {
            margin-top: 2px;
            transform: scale(1.3);
        }
        
        .option-text {
            flex: 1;
            font-size: 1em;
            line-height: 1.6;
        }
        
        .option-letter {
            font-weight: bold;
            color: var(--accent-color);
            margin-right: 8px;
        }
        
        /* Navigation Buttons */
        .question-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 40px 0;
            padding: 20px 0;
            border-top: 1px solid var(--border-color);
        }
        
        .nav-button {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1em;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .nav-button:hover {
            background: #005a8b;
            transform: translateY(-2px);
        }
        
        .nav-button:disabled {
            background: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
        }
        
        .submit-btn {
            background: var(--success-color);
            font-size: 1.1em;
            padding: 15px 30px;
        }
        
        .submit-btn:hover {
            background: #218838;
        }
        
        /* Results Styles */
        .results-container {
            display: none;
            padding: 30px;
            background: var(--light-bg);
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .final-score {
            font-size: 3em;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .score-pass {
            color: var(--success-color);
        }
        
        .score-fail {
            color: var(--danger-color);
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }
        
        .result-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: var(--shadow-medium);
            border-left: 5px solid var(--accent-color);
        }
        
        .card-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--text-primary);
        }
        
        /* Review Items */
        .review-item {
            margin: 10px 0;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ddd;
        }
        
        .review-item.correct {
            background: #d4edda;
            border-left-color: var(--success-color);
        }
        
        .review-item.incorrect {
            background: #f8d7da;
            border-left-color: var(--danger-color);
        }
        
        .review-item.unanswered {
            background: #fff3cd;
            border-left-color: var(--warning-color);
        }
        
        .review-question {
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .correct-answer {
            color: var(--success-color);
            font-weight: bold;
        }
        
        .your-answer {
            color: var(--danger-color);
            font-weight: bold;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .exam-header {
                padding: 15px 20px;
            }
            
            .header-content {
                flex-direction: column;
                align-items: stretch;
            }
            
            .exam-controls {
                justify-content: center;
            }
            
            .question-container {
                padding: 20px 15px;
            }
            
            .question-nav {
                grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));
            }
            
            .nav-btn {
                width: 35px;
                height: 35px;
                font-size: 0.8em;
            }
            
            .option {
                padding: 15px;
            }
            
            .question-navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .final-score {
                font-size: 2em;
            }
        }
        
        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
        
        /* Print Styles */
        @media print {
            .exam-header, .nav-panel, .question-navigation {
                display: none;
            }
            
            .exam-container {
                box-shadow: none;
            }
            
            .option {
                break-inside: avoid;
            }
        }
    
        /* Enhanced Question Styling */
        .question-content {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 4px solid var(--accent-color);
            padding: 25px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        /* AWS Service Highlighting */
        .aws-service {
            background: linear-gradient(135deg, #ff9900, #ffb84d);
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.9em;
        }
        
        /* Enhanced Answer Options */
        .answer-option {
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .answer-option::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,123,186,0.1), transparent);
            transition: left 0.5s;
        }
        
        .answer-option:hover::before {
            left: 100%;
        }
        
        .answer-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        /* Question Number Badge */
        .question-number {
            background: linear-gradient(135deg, var(--primary-color), #34495e);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        /* Bookmark Button */
        .bookmark-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5em;
            cursor: pointer;
            color: #ccc;
            transition: all 0.3s ease;
        }
        
        .bookmark-btn:hover {
            color: var(--warning-color);
            transform: scale(1.2);
        }
        
        .bookmark-btn.bookmarked {
            color: var(--warning-color);
        }
        
        .bookmarked-questions {
            background: rgba(255, 193, 7, 0.1);
            border-left-color: var(--warning-color);
        }

        /* Keyboard Shortcuts Help */
        .shortcuts-help {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.8em;
            opacity: 0.8;
            z-index: 1000;
        }
        
        .shortcuts-help:hover {
            opacity: 1;
        }

        /* Enhanced Results */
        .results-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }
        
        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: conic-gradient(var(--success-color) 0deg, var(--success-color) calc(var(--score-percentage) * 3.6deg), #e9ecef calc(var(--score-percentage) * 3.6deg));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            position: relative;
        }
        
        .score-circle::before {
            content: '';
            width: 90px;
            height: 90px;
            background: white;
            border-radius: 50%;
            position: absolute;
        }
        
        .score-text {
            position: relative;
            z-index: 1;
            font-size: 1.5em;
            font-weight: bold;
            color: var(--text-primary);
        }
        
        .domain-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .domain-card {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        
        .domain-progress {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }
        
        .domain-fill {
            height: 100%;
            background: var(--success-color);
            transition: width 1s ease;
        }
    
        
        /* Enhanced Professional Header */
        .exam-header {
            background: linear-gradient(135deg, #232f3e 0%, #37475a 50%, #ff9900 100%);
            color: white;
            padding: 25px 30px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            border-bottom: 3px solid var(--secondary-color);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .exam-title {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .aws-logo {
            font-size: 2.5em;
            background: linear-gradient(45deg, #ff9900, #ffb84d);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
        }
        
        .title-text h1 {
            font-size: 1.8em;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #ffffff, #e8e8e8);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .title-text p {
            font-size: 1em;
            opacity: 0.9;
            margin-top: 5px;
            font-weight: 500;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
        }
        
        .certification-badge {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 3px 10px rgba(40, 167, 69, 0.3);
            border: 2px solid rgba(255,255,255,0.2);
        }
        
        .exam-controls {
            display: flex;
            align-items: center;
            gap: 25px;
            flex-wrap: wrap;
        }
        
        .timer-display {
            background: linear-gradient(135deg, rgba(255,255,255,0.15), rgba(255,255,255,0.05));
            padding: 12px 24px;
            border-radius: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            border: 2px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
        }
        
        .timer-icon {
            color: var(--secondary-color);
            font-size: 1.2em;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .control-btn {
            background: linear-gradient(135deg, var(--accent-color), #0056b3);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.95em;
            transition: all 0.3s ease;
            border: 2px solid rgba(255,255,255,0.2);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .control-btn:hover {
            background: linear-gradient(135deg, #0056b3, var(--accent-color));
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,123,186,0.4);
        }
        
        /* Mobile Header Adjustments */
        @media (max-width: 768px) {
            .exam-header {
                padding: 20px 15px;
            }
            
            .header-content {
                flex-direction: column;
                text-align: center;
                gap: 15px;
            }
            
            .title-text h1 {
                font-size: 1.4em;
            }
            
            .aws-logo {
                font-size: 2em;
            }
            
            .exam-controls {
                justify-content: center;
                gap: 15px;
            }
        }
    
        
        /* Centered and Smaller Question Numbers */
        .question-number {
            background: linear-gradient(135deg, var(--primary-color), #34495e);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            font-weight: bold;
            font-size: 0.9em;
            display: block;
            text-align: center;
            margin: 0 auto 15px auto;
            width: fit-content;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    
        
        /* Revert Question Badge to Original */
        .question-number {
            background: linear-gradient(135deg, var(--primary-color), #34495e);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        /* Fix Navigation Numbers */
        .nav-btn {
            width: 35px;
            height: 35px;
            border: 2px solid var(--border-color);
            background: white;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8em;
            transition: var(--transition);
            text-align: center;
        }
        
        .question-nav {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));
            gap: 8px;
            max-width: 800px;
            justify-items: center;
        }
    
        
        /* Center Navigation with Question Content */
        .nav-panel {
            background: var(--light-bg);
            padding: 20px 30px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: center;
        }
        
        .question-nav {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(35px, 1fr));
            gap: 8px;
            max-width: 1200px;
            width: 100%;
            justify-items: center;
        }
    
        </style>
</head>
<body>
    <div class="exam-container">
        <!-- Header -->
        <header class="exam-header">
            <div class="header-content">
                <div class="exam-title">
                    <div class="aws-logo">‚òÅÔ∏è</div>
                    <div class="title-text">
                        <h1>AWS Solutions Architect Associate Practice Exam 04</h1>
                        <p>Solutions Architect Associate Certification ‚Ä¢ Industry Standard</p>
                    </div>
                </div>
                <div class="exam-controls">
                    <div class="timer-display">
                        <span class="timer-icon">‚è±Ô∏è</span>
                        <span id="timer">130:00</span>
                    </div>
                    <button class="control-btn" onclick="toggleTimer()" id="pauseBtn">Pause</button>
                    <button class="control-btn" onclick="showReview()">Review</button>
                </div>
            </div>
        </header>
        
        <!-- Progress Bar -->
        <div class="progress-container">
            <div class="progress-info">
                <span>Progress: <span id="progressText">0 of 65 answered</span></span>
                <span>Time Remaining: <span id="timeRemaining">130:00</span></span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <!-- Question Navigation -->
        <div class="nav-panel">
            <div class="question-nav" id="questionNav">
                <!-- Navigation buttons will be generated by JavaScript -->
            </div>
        </div>
        
        <!-- Question Container -->
        <main class="question-container" id="questionContainer">
            <!-- Questions will be loaded here -->
        </main>
        
        <!-- Results Container -->
        <div class="results-container" id="resultsContainer">
            <!-- Results will be displayed here -->
        </div>
    </div>

    <script>
        // Inject questions data
        window.examQuestions = [{"number": 241, "text": "1.x. Which solution will deploy the function in the MOST operationally efficient way?", "options": {"A": "Create an Amazon API Gateway REST API. Configure the method to use the Lambda function. Enable IAM authentication on the API.", "B": "Create a Lambda function URL for the function. Specify AWS_IAM as the authentication type.", "C": "Create an Amazon CloudFront distribution. Deploy the function to Lambda@Edge. Integrate IAM authentication logic into the Lambda@Edge function.", "D": "Create an Amazon CloudFront distribution. Deploy the function to CloudFront Functions. Specify AWS_IAM as the authentication type."}, "correct": "A", "domain": "General", "explanation": ""}, {"number": 264, "text": "262. A company plans to use Amazon ElastiCache for its multi-tier web application. A solutions architect creates a Cache VPC for the ElastiCache cluster and an App VPC for the application's Amazon EC2 instances. Both VPCs are in the us-east-1 Region. The solutions architect must implement a solution to provide the application's EC2 instances with access to the ElastiCache cluster. Which solution will meet these requirements MOST cost-effectively?", "options": {"A": "Create a peering connection between the VPCs. Add a route table entry for the peering connection in both VPCs. Configure an inbound rule for the ElastiCache cluster's security group to allow inbound connection from the application's security group.", "B": "Create a Transit VPC. Update the VPC route tables in the Cache VPC and the App VPC to route traffic through the Transit VPC. Configure an inbound rule for the ElastiCache cluster's security group to allow inbound connection from the application's security group.", "C": "Create a peering connection between the VPCs. Add a route table entry for the peering connection in both VPCs. Configure an inbound rule for the peering connection's security group to allow inbound connection from the application's security group. ", "D": "Create a Transit VPC. Update the VPC route tables in the Cache VPC and the App VPC to route traffic through the Transit VPC. Configure an inbound rule for the Transit VPC's security group to allow inbound connection from the application's security group."}, "correct": "A", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 202, "text": "A company is planning to move its data to an Amazon S3 bucket. The data must be encrypted when it is stored in the S3 bucket. Additionally, the encryption key must be automatically rotated every year. Which solution will meet these requirements with the LEAST operational overhead?", "options": {"A": "Move the data to the S3 bucket. Use server-side encryption with Amazon S3 managed encryption keys (SSE-S3). Use the built-in key rotation behavior of SSE-S3 encryption keys. ", "B": "Create an AWS Key Management Service (AWS KMS) customer managed key. Enable automatic key rotation. Set the S3 bucket's default encryption behavior to use the customer managed KMS key. Move the data to the S3 bucket.", "C": "Create an AWS Key Management Service (AWS KMS) customer managed key. Set the S3 bucket's default encryption behavior to use the customer managed KMS key. Move the data to the S3 bucket. Manually rotate the KMS key every year.", "D": "Encrypt the data with customer key material before moving the data to the S3 bucket. Create an AWS Key Management Service (AWS KMS) key without key material. Import the customer key material into the KMS key. Enable automatic key rotation."}, "correct": "A", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 230, "text": "228. A company has an API that receives real-time data from a fleet of monitoring devices. The API stores this data in an Amazon RDS DB instance for later analysis. The amount of data that the monitoring devices send to the API fluctuates. During periods of heavy traffic, the API often returns timeout errors. After an inspection of the logs, the company determines that the database is not capable of processing the volume of write traffic that comes from the API. A solutions architect must minimize the number of connections to the database and must ensure that data is not lost during periods of heavy traffic.   Which solution will meet these requirements?", "options": {"A": "Increase the size of the DB instance to an instance type that has more available memory.", "B": "Modify the DB instance to be a Multi-AZ DB instance. Configure the application to write to all active RDS DB instances.", "C": "Modify the API to write incoming data to an Amazon Simple Queue Service (Amazon SQS) queue. Use an AWS Lambda function that Amazon SQS invokes to write data from the queue to the database.", "D": "Modify the API to write incoming data to an Amazon Simple Notification Service (Amazon SNS) topic. Use an AWS Lambda function that Amazon SNS invokes to write data from the topic to the database."}, "correct": "C", "domain": "General", "explanation": ""}, {"number": 232, "text": "230. A company is concerned that two NAT instances in use will no longer be able to support the traffic needed for the company's application. A solutions architect wants to implement a solution that is highly available, fault tolerant, and automatically scalable. What should the solutions architect recommend?", "options": {"A": "Remove the two NAT instances and replace them with two NAT gateways in the same Availability Zone.", "B": "Use Auto Scaling groups with Network Load Balancers for the NAT instances in different Availability Zones.", "C": "Remove the two NAT instances and replace them with two NAT gateways in different Availability Zones.", "D": "Replace the two NAT instances with Spot Instances in different Availability Zones and deploy a Network Load Balancer."}, "correct": "C", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 256, "text": "254. A company is reviewing a recent migration of a three-tier application to a VPC. The security team discovers that the principle of least privilege is not being applied to Amazon EC2 security group ingress and egress rules between the application tiers. What should a solutions architect do to correct this issue?", "options": {"A": "Create security group rules using the instance ID as the source or destination.", "B": "Create security group rules using the security group ID as the source or destination.", "C": "Create security group rules using the VPC CIDR blocks as the source or destination.", "D": "Create security group rules using the subnet CIDR blocks as the source or destination."}, "correct": "B", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 263, "text": "261. A company recently announced the deployment of its retail website to a global audience. The website runs on multiple Amazon EC2 instances behind an Elastic Load Balancer. The instances run in an Auto Scaling group across multiple Availability Zones. The company wants to provide its customers with different versions of content based on the devices that the customers use to access the website. Which combination of actions should a solutions architect take to meet these requirements? (Choose two.)", "options": {"A": "Configure Amazon CloudFront to cache multiple versions of the content. ", "B": "Configure a host header in a Network Load Balancer to forward traffic to different instances.", "C": "Configure a Lambda@Edge function to send specific objects to users based on the User-Agent header.", "D": "Configure AWS Global Accelerator. Forward requests to a Network Load Balancer (NLB). Configure the NLB to set up host-based routing to different EC2 instances.", "E": "Configure AWS Global Accelerator. Forward requests to a Network Load Balancer (NLB). Configure the NLB to set up path-based routing to different EC2 instances."}, "correct": "AC", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 252, "text": "250. A company's security team requests that network traffic be captured in VPC Flow Logs. The logs will be frequently accessed for 90 days and then accessed intermittently. What should a solutions architect do to meet these requirements when configuring the logs?", "options": {"A": "Use Amazon CloudWatch as the target. Set the CloudWatch log group with an expiration of 90 days ", "B": "Use Amazon Kinesis as the target. Configure the Kinesis stream to always retain the logs for 90 days.", "C": "Use AWS CloudTrail as the target. Configure CloudTrail to save to an Amazon S3 bucket, and enable S3 Intelligent-Tiering.", "D": "Use Amazon S3 as the target. Enable an S3 Lifecycle policy to transition the logs to S3 Standard-Infrequent Access (S3 Standard-IA) after 90 days."}, "correct": "D", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 220, "text": "0.0.0.0/0 and to destination 0.0.0.0/0.", "options": {"E": "Update the network ACL to allow inbound TCP port 443 from source 0.0.0.0/0 and outbound TCP port 32768-65535 to destination 0.0.0.0/0."}, "correct": "AE", "domain": "General", "explanation": ""}, {"number": 250, "text": "248. A company runs analytics software on Amazon EC2 instances. The software accepts job requests from users to process data that has been uploaded to Amazon S3. Users report that some submitted data is not being processed Amazon CloudWatch reveals that the EC2 instances have a consistent CPU utilization at or near 100%. The company wants to improve system performance and scale the system based on user load. What should a solutions architect do to meet these requirements?", "options": {"A": "Create a copy of the instance. Place all instances behind an Application Load Balancer.", "B": "Create an S3 VPC endpoint for Amazon S3. Update the software to reference the endpoint. ", "C": "Stop the EC2 instances. Modify the instance type to one with a more powerful CPU and more memory. Restart the instances.", "D": "Route incoming requests to Amazon Simple Queue Service (Amazon SQS). Configure an EC2 Auto Scaling group based on queue size. Update the software to read from the queue."}, "correct": "D", "domain": "Design High-Performing Architectures", "explanation": ""}, {"number": 243, "text": "241. An online learning company is migrating to the AWS Cloud. The company maintains its student records in a PostgreSQL database. The company needs a solution in which its data is available and online across multiple AWS Regions at all times. Which solution will meet these requirements with the LEAST amount of operational overhead?", "options": {"A": "Migrate the PostgreSQL database to a PostgreSQL cluster on Amazon EC2 instances.", "B": "Migrate the PostgreSQL database to an Amazon RDS for PostgreSQL DB instance with the Multi-AZ feature turned on.", "C": "Migrate the PostgreSQL database to an Amazon RDS for PostgreSQL DB instance. Create a read replica in another Region. ", "D": "Migrate the PostgreSQL database to an Amazon RDS for PostgreSQL DB instance. Set up DB snapshots to be copied to another Region."}, "correct": "C", "domain": "General", "explanation": ""}, {"number": 259, "text": "257. A company is building a solution that will report Amazon EC2 Auto Scaling events across all the applications in an AWS account. The company needs to use a serverless solution to store the EC2 Auto Scaling status data in Amazon S3. The company then will use the data in Amazon S3 to provide near-real-time updates in a dashboard. The solution must not affect the speed of EC2 instance launches. How should the company move the data to Amazon S3 to meet these requirements?", "options": {"A": "Use an Amazon CloudWatch metric stream to send the EC2 Auto Scaling status data to Amazon Kinesis Data Firehose. Store the data in Amazon S3.", "B": "Launch an Amazon EMR cluster to collect the EC2 Auto Scaling status data and send the data to Amazon Kinesis Data Firehose. Store the data in Amazon S3.", "C": "Create an Amazon EventBridge rule to invoke an AWS Lambda function on a schedule. Configure the Lambda function to send the EC2 Auto Scaling status data directly to Amazon S3.", "D": "Use a bootstrap script during the launch of an EC2 instance to install Amazon Kinesis Agent. Configure Kinesis Agent to collect the EC2 Auto Scaling status data and send the data to Amazon Kinesis Data Firehose. Store the data in Amazon S3."}, "correct": "A", "domain": "Design High-Performing Architectures", "explanation": ""}, {"number": 255, "text": "253. A solutions architect has created two IAM policies: Policy1 and Policy2. Both policies are attached to an IAM group. j A cloud engineer is added as an IAM user to the IAM group. Which action will the Globa cloud engineer be able to perform?   Policy 1 \"Version\": \"2012-10-17\", \"Statement\": [ [ \"Effect\": \"Allow\", \"Action\": [ \"iam:Get*\", \"iam:List*\", \"kms: List*\", 9nly \"ec2:*\", \"ds:*\", \"logs:Get*\", \"logs: Describe*\" ], \"Resource\": \"*\" } ] Policy 2 \"Version\": \"2012-10-17\", \"Statement\": [ - \"Effect\": \"Deny\", \"Action\": \"ds:Delete*\", Glok \"Resource\": \"*\" } ]", "options": {"A": "Deleting IAM users", "B": "Deleting directories ", "C": "Deleting Amazon EC2 instances", "D": "Deleting logs from Amazon CloudWatch Logs"}, "correct": "C", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 236, "text": "234. A company is building a new web-based customer relationship management application. The application will use several Amazon EC2 instances that are backed by Amazon Elastic Block Store (Amazon EBS) volumes behind an Application Load Balancer (ALB). The application will also use an Amazon Aurora database. All data for the application must be encrypted at rest and in transit. Which solution will meet these requirements?", "options": {"A": "Use AWS Key Management Service (AWS KMS) certificates on the ALB to encrypt data in transit. Use AWS Certificate Manager (ACM) to encrypt the EBS volumes and Aurora database storage at rest.", "B": "Use the AWS root account to log in to the AWS Management Console. Upload the company's encryption certificates. While in the root account, select the option to turn on encryption for all data at rest and in transit for the account.", "C": "Use AWS Key Management Service (AWS KMS) to encrypt the EBS volumes and Aurora database storage at rest. Attach an AWS Certificate Manager (ACM) certificate to the ALB to encrypt data in transit.", "D": "Use BitLocker to encrypt all data at rest. Import the company's TLS certificate keys to AWS Key Management Service (AWS KMS) Attach the KMS keys to the ALB to encrypt data in transit."}, "correct": "C", "domain": "Design High-Performing Architectures", "explanation": ""}, {"number": 201, "text": "A company is developing a marketing communications service that targets mobile app users. The company needs to send confirmation messages with Short Message Service (SMS) to its users. The users must be able to reply to the SMS messages. The company must store the responses for a year for analysis. What should a solutions architect do to meet these requirements?", "options": {"A": "Create an Amazon Connect contact flow to send the SMS messages. Use AWS Lambda to process the responses.", "B": "Build an Amazon Pinpoint journey. Configure Amazon Pinpoint to send events to an Amazon Kinesis data stream for analysis and archiving.", "C": "Use Amazon Simple Queue Service (Amazon SQS) to distribute the SMS messages. Use AWS Lambda to process the responses.", "D": "Create an Amazon Simple Notification Service (Amazon SNS) FIFO topic. Subscribe an Amazon Kinesis data stream to the SNS topic for analysis and archiving."}, "correct": "B", "domain": "General", "explanation": ""}, {"number": 212, "text": "A company needs to export its database once a day to Amazon S3 for other teams to access. The exported object size varies between 2 GB and 5 GB. The S3 access pattern for the data is variable and changes rapidly. The data must be immediately available and must remain accessible for up to 3 months. The   company needs the most cost-effective solution that will not increase retrieval time. Which S3 storage class should the company use to meet these requirements?", "options": {"A": "S3 Intelligent-Tiering", "B": "S3 Glacier Instant Retrieval", "C": "S3 Standard qnH", "D": "S3 Standard-Infrequent Access (S3 Standard-IA)"}, "correct": "A", "domain": "Design Cost-Optimized Architectures", "explanation": ""}, {"number": 228, "text": "226. A company collects data from thousands of remote devices by using a RESTful web services application that runs on an Amazon EC2 instance. The EC2 instance receives the raw data, transforms the raw data, and stores all the data in an Amazon S3 bucket. The number of remote devices will increase into the millions soon. The company needs a highly scalable solution that minimizes operational overhead. Which combination of steps should a solutions architect take to meet these requirements? (Choose two.)", "options": {"A": "Use AWS Glue to process the raw data in Amazon S3.", "B": "Use Amazon Route 53 to route traffic to different EC2 instances.", "C": "Add more EC2 instances to accommodate the increasing amount of incoming data.", "D": "Send the raw data to Amazon Simple Queue Service (Amazon SQS). Use EC2 instances to process the data.", "E": "Use Amazon API Gateway to send the raw data to an Amazon Kinesis data stream. Configure Amazon Kinesis Data Firehose to use the data stream as a source to deliver the data to Amazon S3."}, "correct": "AE", "domain": "General", "explanation": ""}, {"number": 257, "text": "255. A company has an ecommerce checkout workflow that writes an order to a database and calls a service to process the payment. Users are experiencing timeouts during the checkout process. When users resubmit the checkout form, multiple unique orders are created for the same desired transaction. How should a solutions architect refactor this workflow to prevent the creation of multiple orders?", "options": {"A": "Configure the web application to send an order message to Amazon Kinesis Data Firehose. Set the payment service to retrieve the message from Kinesis Data Firehose and process the order. ", "B": "Create a rule in AWS CloudTrail to invoke an AWS Lambda function based on the logged application path request. Use Lambda to query the database, call the payment service, and pass in the order information.", "C": "Store the order in the database. Send a message that includes the order number to Amazon Simple Notification Service (Amazon SNS). Set the payment service to poll Amazon SNS, retrieve the message, and process the order. ub", "D": "Store the order in the database. Send a message that includes the order number to an Amazon Simple Queue Service (Amazon SQS) FIFO queue. Set the payment service to retrieve the message and process the order. Delete the message from the queue."}, "correct": "D", "domain": "General", "explanation": ""}, {"number": 225, "text": "223. A company has deployed a Java Spring Boot application as a pod that runs on Amazon Elastic Kubernetes Service (Amazon EKS) in private subnets. The application needs to write data to an Amazon DynamoDB table. A solutions architect must ensure that the application can interact with the DynamoDB table without exposing traffic to the internet. Which combination of steps should the solutions architect take to accomplish this goal? (Choose two.)", "options": {"A": "Attach an IAM role that has sufficient privileges to the EKS pod.", "B": "Attach an IAM user that has sufficient privileges to the EKS pod.", "C": "Allow outbound connectivity to the DynamoDB table through the private subnets' network ACLs.", "D": "Create a VPC endpoint for DynamoDB. ", "E": "Embed the access keys in the Java Spring Boot code."}, "correct": "AD", "domain": "General", "explanation": ""}, {"number": 249, "text": "247. A company has deployed a database in Amazon RDS for MySQL. Due to increased transactions, the database support team is reporting slow reads against the DB instance and recommends adding a read replica. Which combination of actions should a solutions architect take before implementing this change? (Choose two.)", "options": {"A": "Enable binlog replication on the RDS primary node.", "B": "Choose a failover priority for the source DB instance.", "C": "Allow long-running transactions to complete on the source DB instance.", "D": "Create a global table and specify the AWS Regions where the table will be available.", "E": "Enable automatic backups on the source instance by setting the backup retention period to a value other than 0."}, "correct": "CE", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 233, "text": "231. An application runs on an Amazon EC2 instance that has an Elastic IP address in VPC A. The application requires access to a database in VPC B. Both VPCs are in the same AWS account. Which solution will provide the required access MOST securely?", "options": {"A": "Create a DB instance security group that allows all traffic from the public IP address of the application server in VPC A.", "B": "Configure a VPC peering connection between VPC A and VPC B.", "C": "Make the DB instance publicly accessible. Assign a public IP address to the DB instance.", "D": "Launch an EC2 instance with an Elastic IP address into VPC B. Proxy all requests through the new EC2 instance. "}, "correct": "B", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 245, "text": "243. A medical research lab produces data that is related to a new study. The lab wants to make the data available with minimum latency to clinics across the country for their on-premises, file-based applications. The data files are stored in an Amazon S3 bucket that has read-only permissions for each clinic. What should a solutions architect recommend to meet these requirements?", "options": {"A": "Deploy an AWS Storage Gateway file gateway as a virtual machine (VM) on premises at each clinic", "B": "Migrate the files to each clinic's on-premises applications by using AWS DataSync for processing.", "C": "Deploy an AWS Storage Gateway volume gateway as a virtual machine (VM) on premises at each clinic.", "D": "Attach an Amazon Elastic File System (Amazon EFS) file system to each clinic's on-premises servers. "}, "correct": "A", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 253, "text": "251. An Amazon EC2 instance is located in a private subnet in a new VPC. This subnet does not have outbound internet access, but the EC2 instance needs the ability to download monthly security updates from an outside vendor. What should a solutions architect do to meet these requirements?", "options": {"A": "Create an internet gateway, and attach it to the VPC. Configure the private subnet route table to use the internet gateway as the default route.", "B": "Create a NAT gateway, and place it in a public subnet. Configure the private subnet route table to use the NAT gateway as the default route.", "C": "Create a NAT instance, and place it in the same subnet where the EC2 instance is located. Configure the private subnet route table to use the NAT instance as the default route.", "D": "Create an internet gateway, and attach it to the VPC. Create a NAT instance, and place it in the same subnet where the EC2 instance is located. Configure the private subnet route table to use the internet gateway as the default route."}, "correct": "B", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 224, "text": "222. A company has hired an external vendor to perform work in the company's AWS account. The vendor uses an automated tool that is hosted in an AWS   account that the vendor owns. The vendor does not have IAM access to the company's AWS account. How should a solutions architect grant this access to the vendor?", "options": {"A": "Create an IAM role in the company's account to delegate access to the vendor's IAM role. Attach the appropriate IAM policies to the role for the permissions that the vendor requires.", "B": "Create an IAM user in the company's account with a password that meets the password complexity requirements. Attach the appropriate IAM policies to the user for the permissions that the vendor requires.", "C": "Create an IAM group in the company's account. Add the tool's IAM user from the vendor account to the group. Attach the appropriate IAM policies to the group for the permissions that the vendor requires.", "D": "Create a new identity provider by choosing \"AWS account\" as the provider type in the IAM console. Supply the vendor's AWS account ID and user name. Attach the appropriate IAM policies to the new provider for the permissions that the vendor requires."}, "correct": "A", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 251, "text": "249. A company is implementing a shared storage solution for a media application that is hosted in the AWS Cloud. The company needs the ability to use SMB clients to access data. The solution must be fully managed. Which AWS solution meets these requirements?", "options": {"A": "Create an AWS Storage Gateway volume gateway. Create a file share that uses the required client protocol. Connect the application server to the file share.", "B": "Create an AWS Storage Gateway tape gateway. Configure tapes to use Amazon S3. Connect the application server to the tape gateway.", "C": "Create an Amazon EC2 Windows instance. Install and configure a Windows file share role on the instance. Connect the application server to the file share.", "D": "Create an Amazon FSx for Windows File Server file system. Attach the file system to the origin server. Connect the application server to the file system."}, "correct": "D", "domain": "General", "explanation": ""}, {"number": 260, "text": "258. A company has an application that places hundreds of .CSV files into an Amazon S3 bucket every hour. The files are 1 GB in size. Each time a file is uploaded, the company needs to convert the file to Apache Parquet format and place the output file into an S3 bucket. Which solution will meet these requirements with the LEAST operational overhead?", "options": {"A": "Create an AWS Lambda function to download the .CSV files, convert the files to Parquet format, and place the output files in an S3 bucket. Invoke the Lambda function for each S3 PUT event.", "B": "Create an Apache Spark job to read the .CSV files, convert the files to Parquet format, and place the output files in an S3 bucket. Create an AWS Lambda function for each S3 PUT event to invoke the Spark job. ", "C": "Create an AWS Glue table and an AWS Glue crawler for the S3 bucket where the application places the .CSV files. Schedule an AWS Lambda function to periodically use Amazon Athena to query the AWS Glue table, convert the query results into Parquet format, and place the output files into an S3 bucket.", "D": "Create an AWS Glue extract, transform, and load (ETL) job to convert the .CSV files to Parquet format and place the output files into an S3 bucket. Create an AWS Lambda function for each S3 PUT event to invoke the ETL job."}, "correct": "D", "domain": "General", "explanation": ""}, {"number": 254, "text": "252. A solutions architect needs to design a system to store client case files. The files are core company assets and are important. The number of files will grow over   time. The files must be simultaneously accessible from multiple application servers that run on Amazon EC2 instances. The solution must have built-in redundancy. Which solution meets these requirements?", "options": {"A": "Amazon Elastic File System (Amazon EFS) qnH", "B": "Amazon Elastic Block Store (Amazon EBS)", "C": "Amazon S3 Glacier Deep Archive", "D": "AWS Backup"}, "correct": "A", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 231, "text": "229. A company manages its own Amazon EC2 instances that run MySQL databases. The company is manually managing replication and scaling as demand increases or decreases. The company needs a new solution that simplifies the process of adding or removing compute capacity to or from its database tier as needed. The solution also must offer improved performance, scaling, and durability with minimal effort from operations. Which solution meets these requirements?", "options": {"A": "Migrate the databases to Amazon Aurora Serverless for Aurora MySQL.", "B": "Migrate the databases to Amazon Aurora Serverless for Aurora PostgreSQL.", "C": "Combine the databases into one larger MySQL database. Run the larger database on larger EC2 instances.", "D": "Create an EC2 Auto Scaling group for the database tier. Migrate the existing databases to the new environment."}, "correct": "A", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 244, "text": "242. A company hosts its web application on AWS using seven Amazon EC2 instances. The company requires that the IP addresses of all healthy EC2 instances be returned in response to DNS queries. Which policy should be used to meet this requirement?", "options": {"A": "Simple routing policy", "B": "Latency routing policy", "C": "Multivalue routing policy", "D": "Geolocation routing policy"}, "correct": "C", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 229, "text": "227. A company needs to retain its AWS CloudTrail logs for 3 years. The company is enforcing CloudTrail across a set of AWS accounts by using AWS Organizations from the parent account. The CloudTrail target S3 bucket is configured with S3 Versioning enabled. An S3 Lifecycle policy is in place to delete current objects after 3 years. After the fourth year of use of the S3 bucket, the S3 bucket metrics show that the number of objects has continued to rise. However, the number of new CloudTrail logs that are delivered to the S3 bucket has remained consistent. Which solution will delete objects that are older than 3 years in the MOST cost-effective manner?", "options": {"A": "Configure the organization's centralized CloudTrail trail to expire objects after 3 years.", "B": "Configure the S3 Lifecycle policy to delete previous versions as well as current versions.", "C": "Create an AWS Lambda function to enumerate and delete objects from Amazon S3 that are older than 3 years.", "D": "Configure the parent account as the owner of all objects that are delivered to the S3 bucket."}, "correct": "B", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 234, "text": "232. A company runs demonstration environments for its customers on Amazon EC2 instances. Each environment is isolated in its own VPC. The company's operations team needs to be notified when RDP or SSH access to an environment has been established.", "options": {"A": "Configure Amazon CloudWatch Application Insights to create AWS Systems Manager Opsltems when RDP or SSH access is detected.", "B": "Configure the EC2 instances with an IAM instance profile that has an IAM role with the AmazonSSMManagedInstanceCore policy attached.", "C": "Publish VPC flow logs to Amazon CloudWatch Logs. Create required metric filters. Create an Amazon CloudWatch metric alarm with a notification action for when the alarm is in the ALARM state.", "D": "Configure an Amazon EventBridge rule to listen for events of type EC2 Instance State-change Notification. Configure an Amazon Simple Notification Service (Amazon SNS) topic as a target. Subscribe the operations team to the topic."}, "correct": "C", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 198, "text": "A company runs a containerized application on a Kubernetes cluster in an on-premises data center. The company is using a MongoDB database for data storage. The company wants to migrate some of these environments to AWS, but no code changes or deployment method changes are possible at this time. The company needs a solution that minimizes operational overhead. Which solution meets these requirements?", "options": {"A": "Use Amazon Elastic Container Service (Amazon ECS) with Amazon EC2 worker nodes for compute and MongoDB on EC2 for data storage.", "B": "Use Amazon Elastic Container Service (Amazon ECS) with AWS Fargate for compute and Amazon DynamoDB for data storage", "C": "Use Amazon Elastic Kubernetes Service (Amazon EKS) with Amazon EC2 worker nodes for compute and Amazon DynamoDB for data storage.", "D": "Use Amazon Elastic Kubernetes Service (Amazon EKS) with AWS Fargate for compute and Amazon DocumentDB (with MongoDB compatibility) for data storage."}, "correct": "D", "domain": "General", "explanation": ""}, {"number": 247, "text": "245. A company is launching an application on AWS. The application uses an Application Load Balancer (ALB) to direct traffic to at least two Amazon EC2 instances in a single target group. The instances are in an Auto Scaling group for each environment. The company requires a development environment and a production environment. The production environment will have periods of high traffic.   Which solution will configure the development environment MOST cost-effectively?", "options": {"A": "Reconfigure the target group in the development environment to have only one EC2 instance as a target.", "B": "Change the ALB balancing algorithm to least outstanding requests.", "C": "Reduce the size of the EC2 instances in both environments.", "D": "Reduce the maximum number of EC2 instances in the development environment's Auto Scaling group."}, "correct": "D", "domain": "Design High-Performing Architectures", "explanation": ""}, {"number": 235, "text": "233. A solutions architect has created a new AWS account and must secure AWS account root user access. Which combination of actions will accomplish this? (Choose two.)", "options": {"A": "Ensure the root user uses a strong password.", "B": "Enable multi-factor authentication to the root user.", "C": "Store root user access keys in an encrypted Amazon S3 bucket.", "D": "Add the root user to a group containing administrative permissions.", "E": "Apply the required permissions to the root user with an inline policy document."}, "correct": "AB", "domain": "General", "explanation": ""}, {"number": 199, "text": "A telemarketing company is designing its customer call center functionality on AWS. The company needs a solution that provides multiple speaker recognition and generates transcript files. The company wants to query the transcript files to analyze the business patterns. The transcript files must be stored for 7 years for auditing purposes. Which solution will meet these requirements?", "options": {"A": "Use Amazon Rekognition for multiple speaker recognition. Store the transcript files in Amazon S3. Use machine learning models for transcript file analysis.", "B": "Use Amazon Transcribe for multiple speaker recognition. Use Amazon Athena for transcript file analysis.", "C": "Use Amazon Translate for multiple speaker recognition. Store the transcript files in Amazon Redshift. Use SQL queries for transcript file analysis.", "D": "Use Amazon Rekognition for multiple speaker recognition. Store the transcript files in Amazon S3. Use Amazon Textract for transcript file analysis."}, "correct": "B", "domain": "General", "explanation": ""}, {"number": 226, "text": "224. A company recently migrated its web application to AWS by rehosting the application on Amazon EC2 instances in a single AWS Region. The company wants to redesign its application architecture to be highly available and fault tolerant. Traffic must reach all running EC2 instances randomly. Which combination of steps should the company take to meet these requirements? (Choose two.)", "options": {"A": "Create an Amazon Route 53 failover routing policy.", "B": "Create an Amazon Route 53 weighted routing policy.", "C": "Create an Amazon Route 53 multivalue answer routing policy.", "D": "Launch three EC2 instances: two instances in one Availability Zone and one instance in another Availability Zone.", "E": "Launch four EC2 instances: two instances in one Availability Zone and two instances in another Availability Zone."}, "correct": "CE", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 206, "text": "A company wants to manage Amazon Machine Images (AMIs). The company currently copies AMIs to the same AWS Region where the AMIs were created. The company needs to design an application that captures AWS API calls and sends alerts whenever the Amazon EC2 Createlmage API operation is called within the company's account. Which solution will meet these requirements with the LEAST operational overhead?", "options": {"A": "Create an AWS Lambda function to query AWS CloudTrail logs and to send an alert when a Createlmage API call is detected.", "B": "Configure AWS CloudTrail with an Amazon Simple Notification Service (Amazon SNS) notification that occurs when updated logs are sent to Amazon S3. Use Amazon Athena to create a new table and to query on Createlmage when an API call is detected. ", "C": "Create an Amazon EventBridge (Amazon CloudWatch Events) rule for the Createlmage API call. Configure the target as an Amazon Simple Notification Service (Amazon SNS) topic to send an alert when a Createlmage API call is detected.", "D": "Configure an Amazon Simple Queue Service (Amazon SQS) FIFO queue as a target for AWS CloudTrail logs. Create an AWS Lambda function to send an alert to an Amazon Simple Notification Service (Amazon SNS) topic when a Createlmage API call is detected."}, "correct": "C", "domain": "General", "explanation": ""}, {"number": 262, "text": "260. A company's compliance team needs to move its file shares to AWS. The shares run on a Windows Server SMB file share. A self-managed on-premises   Active Directory controls access to the files and folders. The company wants to use Amazon FSx for Windows File Server as part of the solution. The company must ensure that the on-premises Active Directory groups restrict access to the FSx for Windows File Server SMB compliance shares, folders, and files after the move to AWS. The company has created an FSx for Windows File Server file system. Which solution will meet these requirements?", "options": {"A": "Create an Active Directory Connector to connect to the Active Directory. Map the Active Directory groups to IAM groups to restrict access.", "B": "Assign a tag with a Restrict tag key and a Compliance tag value. Map the Active Directory groups to IAM groups to restrict access.", "C": "Create an IAM service-linked role that is linked directly to FSx for Windows File Server to restrict access.", "D": "Join the file system to the Active Directory to restrict access."}, "correct": "D", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 240, "text": "238. A company wants to experiment with individual AWS accounts for its engineer team. The company wants to be notified as soon as the Amazon EC2 instance usage for a given month exceeds a specific threshold for each account. What should a solutions architect do to meet this requirement MOST cost-effectively?", "options": {"A": "Use Cost Explorer to create a daily report of costs by service. Filter the report by EC2 instances. Configure Cost Explorer to send an Amazon Simple Email Service (Amazon SES) notification when a threshold is exceeded.", "B": "Use Cost Explorer to create a monthly report of costs by service. Filter the report by EC2 instances. Configure Cost Explorer to send an Amazon Simple Email Service (Amazon SES) notification when a threshold is exceeded. ", "C": "Use AWS Budgets to create a cost budget for each account. Set the period to monthly. Set the scope to EC2 instances. Set an alert threshold for the budget. Configure an Amazon Simple Notification Service (Amazon SNS) topic to receive a notification when a threshold is exceeded.", "D": "Use AWS Cost and Usage Reports to create a report with hourly granularity. Integrate the report data with Amazon Athena. Use Amazon EventBridge to schedule an Athena query. Configure an Amazon Simple Notification Service on (Amazon SNS) topic to receive a notification when a threshold is exceeded."}, "correct": "C", "domain": "Design Cost-Optimized Architectures", "explanation": ""}, {"number": 209, "text": "A solutions architect is designing the architecture of a new application being deployed to the AWS Cloud. The application will run on Amazon EC2 On-Demand Instances and will automatically scale across multiple Availability Zones. The EC2 instances will scale up and down frequently throughout the day. An Application Load Balancer (ALB) will handle the load distribution. The architecture needs to support distributed session data management. The company is willing to make changes to code if needed. What should the solutions architect do to ensure that the architecture supports distributed session data management?", "options": {"A": "Use Amazon ElastiCache to manage and store session data.", "B": "Use session affinity (sticky sessions) of the ALB to manage session data. ", "C": "Use Session Manager from AWS Systems Manager to manage the session.", "D": "Use the GetSession Token API operation in AWS Security Token Service (AWS STS) to manage the session."}, "correct": "A", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 221, "text": "219. A company's application is having performance issues. The application is stateful and needs to complete in-memory tasks on Amazon EC2 instances. The company used AWS CloudFormation to deploy infrastructure and used the M5 EC2 instance family. As traffic increased, the application performance degraded. Users are reporting delays when the users attempt to access the application. Which solution will resolve these issues in the MOST operationally efficient way?", "options": {"A": "Replace the EC2 instances with T3 EC2 instances that run in an Auto Scaling group. Make the changes by using the AWS Management Console.", "B": "Modify the CloudFormation templates to run the EC2 instances in an Auto Scaling group. Increase the desired capacity and the maximum capacity of the Auto Scaling group manually when an increase is necessary.", "C": "Modify the CloudFormation templates. Replace the EC2 instances with R5 EC2 instances. Use Amazon CloudWatch built-in EC2 memory metrics to track the application performance for future capacity planning.", "D": "Modify the CloudFormation templates. Replace the EC2 instances with R5 EC2 instances. Deploy the Amazon CloudWatch agent on the EC2 instances to generate custom application latency metrics for future capacity planning."}, "correct": "D", "domain": "Design High-Performing Architectures", "explanation": ""}, {"number": 227, "text": "225. A media company collects and analyzes user activity data on premises. The company wants to migrate this capability to AWS. The user activity data store will continue to grow and will be petabytes in size. The company needs to build a highly available data ingestion solution that facilitates on-demand analytics of existing data and new data with SQL. Which solution will meet these requirements with the LEAST operational overhead?", "options": {"A": "Send activity data to an Amazon Kinesis data stream. Configure the stream to deliver the data to an Amazon S3 bucket. ", "B": "Send activity data to an Amazon Kinesis Data Firehose delivery stream. Configure the stream to deliver the data to an Amazon Redshift cluster.", "C": "Place activity data in an Amazon S3 bucket. Configure Amazon S3 to run an AWS Lambda function on the data as the data arrives in the S3 bucket.", "D": "Create an ingestion service on Amazon EC2 instances that are spread across multiple Availability Zones. Configure the service to forward data to an Amazon RDS Multi-AZ database."}, "correct": "B", "domain": "General", "explanation": ""}, {"number": 200, "text": "A company hosts its application on AWS. The company uses Amazon Cognito to manage users. When users log in to the application, the application fetches required data from Amazon DynamoDB by using a REST API that is hosted in Amazon API Gateway. The company wants an AWS managed solution that will control access to the REST API to reduce development efforts. Which solution will meet these requirements with the LEAST operational overhead?", "options": {"A": "Configure an AWS Lambda function to be an authorizer in API Gateway to validate which user made the request.", "B": "For each user, create and assign an API key that must be sent with each request. Validate the key by using an AWS Lambda function.", "C": "Send the user's email address in the header with every request. Invoke an AWS Lambda function to validate that the user with that email address has proper access.", "D": "Configure an Amazon Cognito user pool authorizer in API Gateway to allow Amazon Cognito to validate each request. "}, "correct": "D", "domain": "General", "explanation": ""}, {"number": 203, "text": "The customers of a finance company request appointments with financial advisors by sending text messages. A web application that runs on Amazon EC2 instances accepts the appointment requests. The text messages are published to an Amazon Simple Queue Service (Amazon SQS) queue through the web application. Another application that runs on EC2 instances then sends meeting invitations and meeting confirmation email messages to the customers. After successful scheduling, this application stores the meeting information in an Amazon DynamoDB database. As the company expands, customers report that their meeting invitations are taking longer to arrive. What should a solutions architect recommend to resolve this issue?", "options": {"A": "Add a DynamoDB Accelerator (DAX) cluster in front of the DynamoDB database.", "B": "Add an Amazon API Gateway API in front of the web application that accepts the appointment requests.", "C": "Add an Amazon CloudFront distribution. Set the origin as the web application that accepts the appointment requests.", "D": "Add an Auto Scaling group for the application that sends meeting invitations. Configure the Auto Scaling group to scale based on the depth of the SQS queue. "}, "correct": "D", "domain": "General", "explanation": ""}, {"number": 223, "text": "221. A company runs an application on a group of Amazon Linux EC2 instances. For compliance reasons, the company must retain all application log files for 7 years. The log files will be analyzed by a reporting tool that must be able to access all the files concurrently. Which storage solution meets these requirements MOST cost-effectively?", "options": {"A": "Amazon Elastic Block Store (Amazon EBS)", "B": "Amazon Elastic File System (Amazon EFS)", "C": "Amazon EC2 instance store", "D": "Amazon S3"}, "correct": "D", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 248, "text": "246. A company runs a web application on Amazon EC2 instances in multiple Availability Zones. The EC2 instances are in private subnets. A solutions architect implements an internet-facing Application Load Balancer (ALB) and specifies the EC2 instances as the target group. However, the internet traffic is not reaching the EC2 instances. How should the solutions architect reconfigure the architecture to resolve this issue?", "options": {"A": "Replace the ALB with a Network Load Balancer. Configure a NAT gateway in a public subnet to allow internet traffic.", "B": "Move the EC2 instances to public subnets. Add a rule to the EC2 instances' security groups to allow outbound traffic to 0.0.0.0/0.", "C": "Update the route tables for the EC2 instances' subnets to send 0.0.0.0/0 traffic through the internet gateway route. Add a rule to the EC2 instances' security groups to allow outbound traffic to 0.0.0.0/0.", "D": "Create public subnets in each Availability Zone. Associate the public subnets with the ALB. Update the route tables for the public subnets with a route to the private subnets. "}, "correct": "D", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 237, "text": "235. A company is moving its on-premises Oracle database to Amazon Aurora PostgreSQL. The database has several applications that write to the same tables. The applications need to be migrated one by one with a month in between each migration. Management has expressed concerns that the database has a high number of reads and writes. The data must be kept in sync across both databases throughout the migration. What should a solutions architect recommend?", "options": {"A": "Use AWS DataSync for the initial migration. Use AWS Database Migration Service (AWS DMS) to create a change data capture (CDC) replication task and a table mapping to select all tables. ", "B": "Use AWS DataSync for the initial migration. Use AWS Database Migration Service (AWS DMS) to create a full load plus change data capture (CDC) replication task and a table mapping to select all tables.", "C": "Use the AWS Schema Conversion Tool with AWS Database Migration Service (AWS DMS) using a memory optimized replication instance. Create a full load plus change data capture (CDC) replication task and a table mapping to select all tables.", "D": "Use the AWS Schema Conversion Tool with AWS Database Migration Service (AWS DMS) using a compute optimized replication instance. Create a full load plus change data capture (CDC) replication task and a table mapping to select the largest tables."}, "correct": "C", "domain": "General", "explanation": ""}, {"number": 222, "text": "220. A solutions architect is designing a new API using Amazon API Gateway that will receive requests from users. The volume of requests is highly variable; several hours can pass without receiving a single request. The data processing will take place asynchronously, but should be completed within a few seconds after a request is made.   Which compute service should the solutions architect have the API invoke to deliver the requirements at the lowest cost?", "options": {"A": "An AWS Glue job", "B": "An AWS Lambda function ank", "C": "A containerized service hosted in Amazon Elastic Kubernetes Service (Amazon EKS)", "D": "A containerized service hosted in Amazon ECS with Amazon EC2"}, "correct": "B", "domain": "Design Cost-Optimized Architectures", "explanation": ""}, {"number": 208, "text": "A company needs to move data from an Amazon EC2 instance to an Amazon S3 bucket. The company must ensure that no API calls and no data are routed   through public internet routes. Only the EC2 instance can have access to upload data to the S3 bucket. Which solution will meet these requirements?", "options": {"A": "Create an interface VPC endpoint for Amazon S3 in the subnet where the EC2 instance is located. Attach a resource policy to the S3 bucket to only allow the EC2 instance's IAM role for access.", "B": "Create a gateway VPC endpoint for Amazon S3 in the Availability Zone where the EC2 instance is located. Attach appropriate security groups to the endpoint. Attach a resource policy to the S3 bucket to only allow the EC2 instance's IAM role for access.", "C": "Run the nslookup tool from inside the EC2 instance to obtain the private IP address of the S3 bucket's service API endpoint. Create a route in the VPC route table to provide the EC2 instance with access to the S3 bucket. Attach a resource policy to the S3 bucket to only allow the EC2 instance's IAM role for access.", "D": "Use the AWS provided, publicly available ip-ranges. file to obtain the private IP address of the S3 bucket's service API endpoint. Create a route in the VPC route table to provide the EC2 instance with access to the S3 bucket. Attach a resource policy to the S3 bucket to only allow the EC2 instance's IAM role for access."}, "correct": "A", "domain": "General", "explanation": ""}, {"number": 246, "text": "244. A company is using a content management system that runs on a single Amazon EC2 instance. The EC2 instance contains both the web server and the database software. The company must make its website platform highly available and must enable the website to scale to meet user demand. What should a solutions architect recommend to meet these requirements?", "options": {"A": "Move the database to Amazon RDS, and enable automatic backups. Manually launch another EC2 instance in the same Availability Zone. Configure an Application Load Balancer in the Availability Zone, and set the two instances as targets.", "B": "Migrate the database to an Amazon Aurora instance with a read replica in the same Availability Zone as the existing EC2 instance. Manually launch another EC2 instance in the same Availability Zone. Configure an Application Load Balancer, and set the two EC2 instances as targets.", "C": "Move the database to Amazon Aurora with a read replica in another Availability Zone. Create an Amazon Machine Image (AMI) from the EC2 instance. Configure an Application Load Balancer in two Availability Zones. Attach an Auto Scaling group that uses the AMI across two Availability Zones.", "D": "Move the database to a separate EC2 instance, and schedule backups to Amazon S3. Create an Amazon Machine Image (AMI) from the original EC2 instance. Configure an Application Load Balancer in two Availability Zones. Attach an Auto Scaling group that uses the AMI across two Availability Zones."}, "correct": "C", "domain": "General", "explanation": ""}, {"number": 238, "text": "236. A company has a three-tier application for image sharing. The application uses an Amazon EC2 instance for the front-end layer, another EC2 instance for the application layer, and a third EC2 instance for a MySQL database. A solutions architect must design a scalable and highly available solution that requires the least amount of change to the application. Which solution meets these requirements?", "options": {"A": "Use Amazon S3 to host the front-end layer. Use AWS Lambda functions for the application layer. Move the database to an Amazon DynamoDB table. Use Amazon S3 to store and serve users' images.", "B": "Use load-balanced Multi-AZ AWS Elastic Beanstalk environments for the front-end layer and the application layer. Move the database to an Amazon RDS DB instance with multiple read replicas to serve users' images.", "C": "Use Amazon S3 to host the front-end layer. Use a fleet of EC2 instances in an Auto Scaling group for the application layer. Move the database to a memory optimized instance type to store and serve users' images.", "D": "Use load-balanced Multi-AZ AWS Elastic Beanstalk environments for the front-end layer and the application layer. Move the database to an Amazon RDS Multi-AZ DB instance. Use Amazon S3 to store and serve users' images. "}, "correct": "D", "domain": "General", "explanation": ""}, {"number": 258, "text": "256. A solutions architect is implementing a document review application using an Amazon S3 bucket for storage. The solution must prevent accidental deletion of the documents and ensure that all versions of the documents are available. Users must be able to download, modify, and upload documents. Which combination of actions should be taken to meet these requirements? (Choose two.)", "options": {"A": "Enable a read-only bucket ACL.", "B": "Enable versioning on the bucket.", "C": "Attach an IAM policy to the bucket.", "D": "Enable MFA Delete on the bucket.", "E": "Encrypt the bucket using AWS KMS."}, "correct": "BD", "domain": "General", "explanation": ""}, {"number": 261, "text": "259. A company is implementing new data retention policies for all databases that run on Amazon RDS DB instances. The company must retain daily backups for a minimum period of 2 years. The backups must be consistent and restorable. Which solution should a solutions architect recommend to meet these requirements?", "options": {"A": "Create a backup vault in AWS Backup to retain RDS backups. Create a new backup plan with a daily schedule and an expiration period of 2 years after creation. Assign the RDS DB instances to the backup plan.", "B": "Configure a backup window for the RDS DB instances for daily snapshots. Assign a snapshot retention policy of 2 years to each RDS DB instance. Use Amazon Data Lifecycle Manager (Amazon DLM) to schedule snapshot deletions.", "C": "Configure database transaction logs to be automatically backed up to Amazon CloudWatch Logs with an expiration period of 2 years.", "D": "Configure an AWS Database Migration Service (AWS DMS) replication task. Deploy a replication instance, and configure a change data capture (CDC) task to stream database changes to Amazon S3 as the target. Configure S3 Lifecycle policies to delete the snapshots after 2 years."}, "correct": "A", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 239, "text": "237. An application running on an Amazon EC2 instance in VPC-A needs to access files in another EC2 instance in VPC-B. Both VPCs are in separate AWS accounts. The network administrator needs to design a solution to configure secure access to EC2 instance in VPC-B from VPC-A. The connectivity should not have a single point of failure or bandwidth concerns. Which solution will meet these requirements?", "options": {"A": "Set up a VPC peering connection between VPC-A and VPC-B.", "B": "Set up VPC gateway endpoints for the EC2 instance running in VPC-B.", "C": "Attach a virtual private gateway to VPC-B and set up routing from VPC-A.", "D": "Create a private virtual interface (VIF) for the EC2 instance running in VPC-B and add appropriate routes from VPC-A."}, "correct": "A", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 204, "text": "An online retail company has more than 50 million active customers and receives more than 25,000 orders each day. The company collects purchase data for customers and stores this data in Amazon S3. Additional customer data is stored in Amazon RDS. The company wants to make all the data available to various teams so that the teams can perform analytics. The solution must provide the ability to manage fine-grained permissions for the data and must minimize operational overhead. Which solution will meet these requirements?", "options": {"A": "Migrate the purchase data to write directly to Amazon RDS. Use RDS access controls to limit access.", "B": "Schedule an AWS Lambda function to periodically copy data from Amazon RDS to Amazon S3. Create an AWS Glue crawler. Use Amazon Athena to query the data. Use S3 policies to limit access.", "C": "Create a data lake by using AWS Lake Formation. Create an AWS Glue JDBC connection to Amazon RDS. Register the S3 bucket in Lake Formation. Use Lake Formation access controls to limit access.", "D": "Create an Amazon Redshift cluster. Schedule an AWS Lambda function to periodically copy data from Amazon S3 and Amazon RDS to Amazon Redshift. Use Amazon Redshift access controls to limit access."}, "correct": "C", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 242, "text": "240. A company previously migrated its data warehouse solution to AWS. The company also has an AWS Direct Connect connection. Corporate office users   query the data warehouse using a visualization tool. The average size of a query returned by the data warehouse is 50 MB and each webpage sent by the visualization tool is approximately 500 KB. Result sets returned by the data warehouse are not cached. Which solution provides the LOWEST data transfer egress cost for the company?", "options": {"A": "Host the visualization tool on premises and query the data warehouse directly over the internet.", "B": "Host the visualization tool in the same AWS Region as the data warehouse. Access it over the internet.", "C": "Host the visualization tool on premises and query the data warehouse directly over a Direct Connect connection at a location in the same AWS Region.", "D": "Host the visualization tool in the same AWS Region as the data warehouse and access it over a Direct Connect connection at a location in the same Region."}, "correct": "D", "domain": "Design High-Performing Architectures", "explanation": ""}, {"number": 214, "text": "A company's reporting system delivers hundreds of .CSV files to an Amazon S3 bucket each day. The company must convert these files to Apache Parquet format and must store the files in a transformed data bucket.   Which solution will meet these requirements with the LEAST development effort?", "options": {"A": "Create an Amazon EMR cluster with Apache Spark installed. Write a Spark application to transform the data. Use EMR File System (EMRFS) to write files to the transformed data bucket.", "B": "Create an AWS Glue crawler to discover the data. Create an AWS Glue extract, transform, and load (ETL) job to transform the data. Specify the transformed data bucket in the output step.", "C": "Use AWS Batch to create a job definition with Bash syntax to transform the data and output the data to the transformed data bucket. Use the job definition to submit a job. Specify an array job as the job type.", "D": "Create an AWS Lambda function to transform the data and output the data to the transformed data bucket. Configure an event notification for the S3 bucket. Specify the Lambda function as the destination for the event notification."}, "correct": "B", "domain": "General", "explanation": ""}, {"number": 207, "text": "A company owns an asynchronous API that is used to ingest user requests and, based on the request type, dispatch requests to the appropriate microservice for processing. The company is using Amazon API Gateway to deploy the API front end, and an AWS Lambda function that invokes Amazon DynamoDB to store user requests before dispatching them to the processing microservices. The company provisioned as much DynamoDB throughput as its budget allows, but the company is still experiencing availability issues and is losing user requests. What should a solutions architect do to address this issue without impacting existing users?", "options": {"A": "Add throttling on the API Gateway with server-side throttling limits.", "B": "Use DynamoDB Accelerator (DAX) and Lambda to buffer writes to DynamoDB.", "C": "Create a secondary index in DynamoDB for the table with the user requests.", "D": "Use the Amazon Simple Queue Service (Amazon SQS) queue and Lambda to buffer writes to DynamoDB."}, "correct": "D", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 205, "text": "A company hosts a marketing website in an on-premises data center. The website consists of static documents and runs on a single server. An administrator updates the website content infrequently and uses an SFTP client to upload new documents. The company decides to host its website on AWS and to use Amazon CloudFront.   The company's solutions architect creates a CloudFront distribution. The solutions architect must design the most cost-effective and resilient architecture for website hosting to serve as the CloudFront origin. Which solution will meet these requirements?", "options": {"A": "Create a virtual server by using Amazon Lightsail. Configure the web server in the Lightsail instance. Upload website content by using an SFTP client.", "B": "Create an AWS Auto Scaling group for Amazon EC2 instances. Use an Application Load Balancer. Upload website content by using an SFTP client.", "C": "Create a private Amazon S3 bucket. Use an S3 bucket policy to allow access from a CloudFront origin access identity (OAI). Upload website content by using the AWS CLI.", "D": "Create a public Amazon S3 bucket. Configure AWS Transfer for SFTP. Configure the S3 bucket for website hosting. Upload website content by using the SFTP client."}, "correct": "C", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 217, "text": "A company runs a global web application on Amazon EC2 instances behind an Application Load Balancer. The application stores data in Amazon Aurora. The company needs to create a disaster recovery solution and can tolerate up to 30 minutes of downtime and potential data loss. The solution does not need to handle the load when the primary infrastructure is healthy. What should a solutions architect do to meet these requirements?", "options": {"A": "Deploy the application with the required infrastructure elements in place. Use Amazon Route 53 to configure active-passive failover. Create an Aurora Replica in a second AWS Region.", "B": "Host a scaled-down deployment of the application in a second AWS Region. Use Amazon Route 53 to configure active-active failover. Create an Aurora Replica in the second Region.", "C": "Replicate the primary infrastructure in a second AWS Region. Use Amazon Route 53 to configure active-active failover. Create an Aurora database that is restored from the latest snapshot.", "D": "Back up data with AWS Backup. Use the backup to create the required infrastructure in a second AWS Region. Use Amazon Route 53 to configure active-passive failover. Create an Aurora second primary instance in the second Region."}, "correct": "A", "domain": "Design Resilient Architectures", "explanation": ""}, {"number": 213, "text": "A company is developing a new mobile app. The company must implement proper traffic filtering to protect its Application Load Balancer (ALB) against common application-level attacks, such as cross-site scripting or SQL injection. The company has minimal infrastructure and operational staff. The company needs to reduce its share of the responsibility in managing, updating, and securing servers for its AWS environment. What should a solutions architect recommend to meet these requirements?", "options": {"A": "Configure AWS WAF rules and associate them with the ALB.", "B": "Deploy the application using Amazon S3 with public hosting enabled.", "C": "Deploy AWS Shield Advanced and add the ALB as a protected resource.", "D": "Create a new ALB that directs traffic to an Amazon EC2 instance running a third-party firewall, which then passes the traffic to the current ALB."}, "correct": "A", "domain": "Design High-Performing Architectures", "explanation": ""}, {"number": 211, "text": "A company hosts multiple production applications. One of the applications consists of resources from Amazon EC2, AWS Lambda, Amazon RDS, Amazon Simple Notification Service (Amazon SNS), and Amazon Simple Queue Service (Amazon SQS) across multiple AWS Regions. All company resources are tagged with a tag name of \"application\" and a value that corresponds to each application. A solutions architect must provide the quickest solution for identifying all of the tagged components. Which solution meets these requirements?", "options": {"A": "Use AWS CloudTrail to generate a list of resources with the application tag.", "B": "Use the AWS CLI to query each service across all Regions to report the tagged components.", "C": "Run a query in Amazon CloudWatch Logs Insights to report on the components with the application tag.", "D": "Run a query with the AWS Resource Groups Tag Editor to report on the resources globally with the application tag."}, "correct": "D", "domain": "General", "explanation": ""}, {"number": 210, "text": "A company offers a food delivery service that is growing rapidly. Because of the growth, the company's order processing system is experiencing scaling problems during peak traffic hours. The current architecture includes the following: A group of Amazon EC2 instances that run in an Amazon EC2 Auto Scaling group to collect orders from the application Another group of EC2 instances that run in an Amazon EC2 Auto Scaling group to fulfill orders The order collection process occurs quickly, but the order fulfillment process can take longer. Data must not be lost because of a scaling event. A solutions architect must ensure that the order collection process and the order fulfillment process can both scale properly during peak traffic hours. The solution must optimize utilization of the company's AWS resources. Which solution meets these requirements?", "options": {"A": "Use Amazon CloudWatch metrics to monitor the CPU of each instance in the Auto Scaling groups. Configure each Auto Scaling group's minimum capacity according to peak workload values.", "B": "Use Amazon CloudWatch metrics to monitor the CPU of each instance in the Auto Scaling groups. Configure a CloudWatch alarm to invoke an Amazon Simple Notification Service (Amazon SNS) topic that creates additional Auto Scaling groups on demand.", "C": "Provision two Amazon Simple Queue Service (Amazon SQS) queues: one for order collection and another for order fulfillment. Configure the EC2 instances to poll their respective queue. Scale the Auto Scaling groups based on notifications that the queues send. ", "D": "Provision two Amazon Simple Queue Service (Amazon SQS) queues: one for order collection and another for order fulfillment. Configure the EC2 instances to poll their respective queue. Create a metric based on a backlog per instance calculation. Scale the Auto Scaling groups based on this metric."}, "correct": "D", "domain": "Design High-Performing Architectures", "explanation": ""}, {"number": 216, "text": "A company has a serverless website with millions of objects in an Amazon S3 bucket. The company uses the S3 bucket as the origin for an Amazon CloudFront distribution. The company did not set encryption on the S3 bucket before the objects were loaded. A solutions architect needs to enable encryption for all existing objects and for all objects that are added to the S3 bucket in the future. Which solution will meet these requirements with the LEAST amount of effort?", "options": {"A": "Create a new S3 bucket. Turn on the default encryption settings for the new S3 bucket. Download all existing objects to temporary local storage. Upload the objects to the new S3 bucket.", "B": "Turn on the default encryption settings for the S3 bucket. Use the S3 Inventory feature to create a .CSV file that lists the unencrypted objects. Run an S3 Batch Operations job that uses the copy command to encrypt those objects.", "C": "Create a new encryption key by using AWS Key Management Service (AWS KMS). Change the settings on the S3 bucket to use server-side encryption with AWS KMS managed encryption keys (SSE-KMS). Turn on versioning for the S3 bucket.", "D": "Navigate to Amazon S3 in the AWS Management Console. Browse the S3 bucket's objects. Sort by the encryption field. Select each unencrypted object. Use the Modify button to apply default encryption settings to every unencrypted object in the S3 bucket."}, "correct": "B", "domain": "Design Secure Architectures", "explanation": ""}, {"number": 215, "text": "A company has 700 TB of backup data stored in network attached storage (NAS) in its data center. This backup data need to be accessible for infrequent regulatory requests and must be retained 7 years. The company has decided to migrate this backup data from its data center to AWS. The migration must be complete within 1 month. The company has 500 Mbps of dedicated bandwidth on its public internet connection available for data transfer. What should a solutions architect do to migrate and store the data at the LOWEST cost?", "options": {"A": "Order AWS Snowball devices to transfer the data. Use a lifecycle policy to transition the files to Amazon S3 Glacier Deep Archive.", "B": "Deploy a VPN connection between the data center and Amazon VPC. Use the AWS CLI to copy the data from on premises to Amazon S3 Glacier.", "C": "Provision a 500 Mbps AWS Direct Connect connection and transfer the data to Amazon S3. Use a lifecycle policy to transition the files to Amazon S3 Glacier Deep Archive. ", "D": "Use AWS DataSync to transfer the data and deploy a DataSync agent on premises. Use the DataSync task to copy files from the on-premises NAS storage to Amazon S3 Glacier."}, "correct": "A", "domain": "Design Resilient Architectures", "explanation": ""}];
        
        /**
 * Enhanced SAA-C03 Practice Exam JavaScript
 * Implements industry best practices for online certification exams
 */

class SAAPracticeExam {
    constructor(questions) {
        this.questions = questions;
        this.currentQuestion = 0;
        this.answers = {};
        this.flaggedQuestions = new Set();
        this.timeLeft = 130 * 60; // 130 minutes in seconds
        this.timerInterval = null;
        this.isPaused = false;
        this.startTime = Date.now();
        this.autoSaveInterval = null;
        
        this.init();
    }
    
    init() {
        this.loadSavedState();
        this.generateQuestionNavigation();
        this.displayQuestion(this.currentQuestion);
        this.startTimer();
        this.startAutoSave();
        this.updateProgress();
        this.bindKeyboardShortcuts();
    }
    
    // Auto-save functionality
    startAutoSave() {
        this.autoSaveInterval = setInterval(() => {
            this.saveState();
        }, 30000); // Save every 30 seconds
    }
    
    saveState() {
        const state = {
            currentQuestion: this.currentQuestion,
            answers: this.answers,
            flaggedQuestions: Array.from(this.flaggedQuestions),
            timeLeft: this.timeLeft,
            timestamp: Date.now()
        };
        localStorage.setItem('saa_exam_state', JSON.stringify(state));
    }
    
    loadSavedState() {
        const saved = localStorage.getItem('saa_exam_state');
        if (saved) {
            const state = JSON.parse(saved);
            // Only load if saved within last 4 hours
            if (Date.now() - state.timestamp < 4 * 60 * 60 * 1000) {
                this.currentQuestion = state.currentQuestion || 0;
                this.answers = state.answers || {};
                this.flaggedQuestions = new Set(state.flaggedQuestions || []);
                this.timeLeft = state.timeLeft || 130 * 60;
            }
        }
    }
    
    // Timer functionality
    startTimer() {
        this.timerInterval = setInterval(() => {
            if (!this.isPaused) {
                this.timeLeft--;
                this.updateTimerDisplay();
                
                // Warning at 30 minutes
                if (this.timeLeft === 30 * 60) {
                    this.showTimeWarning('30 minutes remaining!');
                }
                
                // Warning at 10 minutes
                if (this.timeLeft === 10 * 60) {
                    this.showTimeWarning('10 minutes remaining!');
                }
                
                // Auto-submit when time expires
                if (this.timeLeft <= 0) {
                    this.submitExam(true);
                }
            }
        }, 1000);
    }
    
    updateTimerDisplay() {
        const minutes = Math.floor(this.timeLeft / 60);
        const seconds = this.timeLeft % 60;
        const timeString = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
        document.getElementById('timer').textContent = timeString;
        document.getElementById('timeRemaining').textContent = timeString;
        
        // Change color based on time remaining
        const timerElement = document.getElementById('timer');
        if (this.timeLeft < 10 * 60) {
            timerElement.style.color = '#dc3545';
        } else if (this.timeLeft < 30 * 60) {
            timerElement.style.color = '#ffc107';
        }
    }
    
    toggleTimer() {
        this.isPaused = !this.isPaused;
        const btn = document.getElementById('pauseBtn');
        btn.textContent = this.isPaused ? 'Resume' : 'Pause';
    }
    
    showTimeWarning(message) {
        // Create toast notification
        const toast = document.createElement('div');
        toast.className = 'time-warning-toast';
        toast.textContent = message;
        toast.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ffc107;
            color: #000;
            padding: 15px 25px;
            border-radius: 8px;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        `;
        
        document.body.appendChild(toast);
        setTimeout(() => toast.remove(), 5000);
    }
    
    // Question navigation
    generateQuestionNavigation() {
        const nav = document.getElementById('questionNav');
        nav.innerHTML = '';
        
        for (let i = 0; i < this.questions.length; i++) {
            const btn = document.createElement('button');
            btn.className = 'nav-btn';
            btn.textContent = i + 1;
            btn.onclick = () => this.goToQuestion(i);
            btn.setAttribute('aria-label', `Go to question ${i + 1}`);
            nav.appendChild(btn);
        }
        
        this.updateNavigationState();
    }
    
    updateNavigationState() {
        const navBtns = document.querySelectorAll('.nav-btn');
        navBtns.forEach((btn, index) => {
            btn.className = 'nav-btn';
            
            if (index === this.currentQuestion) {
                btn.classList.add('current');
            }
            
            if (this.answers[index] !== undefined) {
                btn.classList.add('answered');
            }
            
            if (this.flaggedQuestions.has(index)) {
                btn.classList.add('flagged');
            }
        });
    }
    
    // Question display
    displayQuestion(questionIndex) {
        const question = this.questions[questionIndex];
        const container = document.getElementById('questionContainer');
        
        // Determine if multiple choice
        const isMultiple = question.correct.length > 1 || question.correct.includes(',');
        const inputType = isMultiple ? 'checkbox' : 'radio';
        
        container.innerHTML = `
            <div class="question-header">
                <div class="question-info">
                    <div class="question-number">Question ${questionIndex + 1} of ${this.questions.length}</div>
                    <div class="question-domain">${question.domain}</div>
                </div>
                <div class="question-actions">
                    <button class="flag-btn ${this.flaggedQuestions.has(questionIndex) ? 'flagged' : ''}" 
                            onclick="exam.toggleFlag(${questionIndex})">
                        üö© ${this.flaggedQuestions.has(questionIndex) ? 'Unflag' : 'Flag'}
                    </button>
                </div>
            </div>
            
            <div class="question-text">
                ${question.text}
                ${isMultiple ? '<p><strong>Note:</strong> This question may have multiple correct answers.</p>' : ''}
            </div>
            
            <div class="options-container">
                ${Object.entries(question.options).map(([letter, text]) => `
                    <div class="option ${this.isOptionSelected(questionIndex, letter) ? 'selected' : ''}" 
                         onclick="exam.selectOption(${questionIndex}, '${letter}')">
                        <div class="option-content">
                            <input type="${inputType}" 
                                   name="q${questionIndex}" 
                                   value="${letter}" 
                                   ${this.isOptionSelected(questionIndex, letter) ? 'checked' : ''}
                                   onchange="exam.handleOptionChange(${questionIndex}, '${letter}', this.checked)">
                            <div class="option-text">
                                <span class="option-letter">${letter}.</span>
                                ${text}
                            </div>
                        </div>
                    </div>
                `).join('')}
            </div>
            
            <div class="question-navigation">
                <button class="nav-button" 
                        onclick="exam.previousQuestion()" 
                        ${questionIndex === 0 ? 'disabled' : ''}>
                    ‚Üê Previous
                </button>
                
                <div style="display: flex; gap: 15px;">
                    ${questionIndex === this.questions.length - 1 ? 
                        '<button class="nav-button submit-btn" onclick="exam.submitExam()">Submit Exam</button>' :
                        '<button class="nav-button" onclick="exam.nextQuestion()">Next ‚Üí</button>'
                    }
                </div>
            </div>
        `;
        
        this.updateNavigationState();
        this.updateProgress();
        
        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // Answer handling
    selectOption(questionIndex, optionLetter) {
        const question = this.questions[questionIndex];
        const isMultiple = question.correct.length > 1 || question.correct.includes(',');
        
        if (isMultiple) {
            // Handle multiple selection
            if (!this.answers[questionIndex]) {
                this.answers[questionIndex] = [];
            }
            
            const currentAnswers = this.answers[questionIndex];
            const index = currentAnswers.indexOf(optionLetter);
            
            if (index > -1) {
                currentAnswers.splice(index, 1);
            } else {
                currentAnswers.push(optionLetter);
            }
            
            if (currentAnswers.length === 0) {
                delete this.answers[questionIndex];
            }
        } else {
            // Handle single selection
            this.answers[questionIndex] = optionLetter;
        }
        
        this.displayQuestion(questionIndex);
        this.saveState();
    }
    
    handleOptionChange(questionIndex, optionLetter, checked) {
        // This handles direct input changes
        const question = this.questions[questionIndex];
        const isMultiple = question.correct.length > 1 || question.correct.includes(',');
        
        if (isMultiple) {
            if (!this.answers[questionIndex]) {
                this.answers[questionIndex] = [];
            }
            
            const currentAnswers = this.answers[questionIndex];
            const index = currentAnswers.indexOf(optionLetter);
            
            if (checked && index === -1) {
                currentAnswers.push(optionLetter);
            } else if (!checked && index > -1) {
                currentAnswers.splice(index, 1);
            }
            
            if (currentAnswers.length === 0) {
                delete this.answers[questionIndex];
            }
        } else {
            if (checked) {
                this.answers[questionIndex] = optionLetter;
            }
        }
        
        this.updateNavigationState();
        this.updateProgress();
        this.saveState();
    }
    
    isOptionSelected(questionIndex, optionLetter) {
        const answer = this.answers[questionIndex];
        if (Array.isArray(answer)) {
            return answer.includes(optionLetter);
        }
        return answer === optionLetter;
    }
    
    // Navigation methods
    goToQuestion(questionIndex) {
        this.currentQuestion = questionIndex;
        this.displayQuestion(questionIndex);
    }
    
    nextQuestion() {
        if (this.currentQuestion < this.questions.length - 1) {
            this.currentQuestion++;
            this.displayQuestion(this.currentQuestion);
        }
    }
    
    previousQuestion() {
        if (this.currentQuestion > 0) {
            this.currentQuestion--;
            this.displayQuestion(this.currentQuestion);
        }
    }
    
    // Flag functionality
    toggleFlag(questionIndex) {
        if (this.flaggedQuestions.has(questionIndex)) {
            this.flaggedQuestions.delete(questionIndex);
        } else {
            this.flaggedQuestions.add(questionIndex);
        }
        
        this.displayQuestion(questionIndex);
        this.saveState();
    }
    
    // Progress tracking
    updateProgress() {
        const answered = Object.keys(this.answers).length;
        const total = this.questions.length;
        const percentage = (answered / total) * 100;
        
        document.getElementById('progressText').textContent = `${answered} of ${total} answered`;
        document.getElementById('progressFill').style.width = `${percentage}%`;
    }
    
    // Keyboard shortcuts
    bindKeyboardShortcuts() {
        document.addEventListener('keydown', (e) => {
            // Only if not in input field
            if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                switch(e.key) {
                    case 'ArrowLeft':
                        e.preventDefault();
                        this.previousQuestion();
                        break;
                    case 'ArrowRight':
                        e.preventDefault();
                        this.nextQuestion();
                        break;
                    case 'f':
                    case 'F':
                        e.preventDefault();
                        this.toggleFlag(this.currentQuestion);
                        break;
                    case '1':
                    case '2':
                    case '3':
                    case '4':
                    case '5':
                        e.preventDefault();
                        const optionLetter = String.fromCharCode(64 + parseInt(e.key)); // Convert 1-5 to A-E
                        if (this.questions[this.currentQuestion].options[optionLetter]) {
                            this.selectOption(this.currentQuestion, optionLetter);
                        }
                        break;
                }
            }
        });
    }
    
    // Review functionality
    showReview() {
        const unanswered = [];
        const flagged = Array.from(this.flaggedQuestions);
        
        for (let i = 0; i < this.questions.length; i++) {
            if (this.answers[i] === undefined) {
                unanswered.push(i + 1);
            }
        }
        
        let message = 'Exam Review:\\n\\n';
        message += `Answered: ${Object.keys(this.answers).length}/${this.questions.length}\\n`;
        message += `Flagged: ${flagged.length}\\n`;
        message += `Unanswered: ${unanswered.length}\\n\\n`;
        
        if (unanswered.length > 0) {
            message += `Unanswered questions: ${unanswered.join('')}\\n`;
        }
        
        if (flagged.length > 0) {
            message += `Flagged questions: ${flagged.map(i => i + 1).join('')}\\n`;
        }
        
        alert(message);
    }
    
    // Exam submission
    submitExam(autoSubmit = false) {
        const unanswered = this.questions.length - Object.keys(this.answers).length;
        
        if (!autoSubmit && unanswered > 0) {
            const confirm = window.confirm(
                `You have ${unanswered} unanswered questions. Are you sure you want to submit?`
            );
            if (!confirm) return;
        }
        
        clearInterval(this.timerInterval);
        clearInterval(this.autoSaveInterval);
        
        this.calculateResults();
        localStorage.removeItem('saa_exam_state');
    }
    
    calculateResults() {
        let correct = 0;
        let domainStats = {};
        let reviewHTML = '';
        
        // Initialize domain stats
        const domains = ['Design Secure Architectures', 'Design Resilient Architectures', 
                        'Design High-Performing Architectures', 'Design Cost-Optimized Architectures', 'General'];
        domains.forEach(domain => {
            domainStats[domain] = { correct: 0, total: 0 };
        });
        
        // Calculate scores
        this.questions.forEach((question, index) => {
            const userAnswer = this.answers[index];
            const correctAnswer = question.correct;
            
            domainStats[question.domain].total++;
            
            let isCorrect = false;
            let status = 'unanswered';
            let answerText = '';
            
            if (userAnswer !== undefined) {
                if (Array.isArray(userAnswer)) {
                    // Multiple choice - check if arrays match
                    const correctAnswers = correctAnswer.split(',').map(a => a.trim());
                    isCorrect = normalizeAnswer(userAnswer.join("")) === normalizeAnswer(correctAnswers.join(""));
                } else {
                    // Single choice
                    isCorrect = compareAnswers(userAnswer, correctAnswer);
                }
                
                if (isCorrect) {
                    correct++;
                    status = 'correct';
                    domainStats[question.domain].correct++;
                    answerText = `<div class="correct-answer">‚úì Correct: ${correctAnswer}</div>`;
                } else {
                    status = 'incorrect';
                    const userAnswerText = Array.isArray(userAnswer) ? userAnswer.join('') : userAnswer;
                    answerText = `
                        <div class="your-answer">‚úó Your answer: ${userAnswerText}</div>
                        <div class="correct-answer">‚úì Correct answer: ${correctAnswer}</div>
                    `;
                }
            } else {
                answerText = `
                    <div class="correct-answer">‚úì Correct answer: ${correctAnswer}</div>
                    <div style="color: #856404;">‚ö† Not answered</div>
                `;
            }
            
            reviewHTML += `
                <div class="review-item ${status}">
                    <div class="review-question">Question ${index + 1}: ${question.text.substring(0, 100)}...</div>
                    <div class="review-answers">${answerText}</div>
                    <div style="font-size: 0.8em; color: #6c757d; margin-top: 5px;">Domain: ${question.domain}</div>
                </div>
            `;
        });
        
        this.displayResults(correct, domainStats, reviewHTML);
    }
    
    displayResults(correct, domainStats, reviewHTML) {
        const score = Math.round((correct / this.questions.length) * 1000);
        const percentage = Math.round((correct / this.questions.length) * 100);
        const timeUsed = Math.round((Date.now() - this.startTime) / 60000);
        
        // Hide question container and show results
        document.getElementById('questionContainer').style.display = 'none';
        const resultsContainer = document.getElementById('resultsContainer');
        resultsContainer.style.display = 'block';
        
        // Generate domain statistics HTML
        let domainHTML = '';
        Object.entries(domainStats).forEach(([domain, stats]) => {
            if (stats.total > 0) {
                const domainPercentage = Math.round((stats.correct / stats.total) * 100);
                const domainClass = domainPercentage >= 70 ? 'score-pass' : 'score-fail';
                domainHTML += `
                    <div class="result-card">
                        <div class="card-title">${domain.replace('Design ', '')}</div>
                        <div class="${domainClass}" style="font-size: 1.5em; font-weight: bold;">
                            ${stats.correct}/${stats.total} (${domainPercentage}%)
                        </div>
                    </div>
                `;
            }
        });
        
        resultsContainer.innerHTML = `
            <div class="results-header">
                <h1>Exam Complete!</h1>
                <div class="final-score ${score >= 720 ? 'score-pass' : 'score-fail'}">
                    ${score}/1000 (${percentage}%)
                </div>
                <div style="font-size: 1.2em; margin: 20px 0;">
                    ${score >= 720 ? 'üéâ CONGRATULATIONS! YOU PASSED!' : 'üìö Keep studying! You need 720 to pass'}
                </div>
                <div style="color: #6c757d;">
                    Time Used: ${timeUsed} minutes | Correct: ${correct}/${this.questions.length}
                </div>
            </div>
            
            <div class="results-grid">
                <div class="result-card">
                    <div class="card-title">üìä Overall Performance</div>
                    <div>Score: ${score}/1000</div>
                    <div>Percentage: ${percentage}%</div>
                    <div>Correct: ${correct}/${this.questions.length}</div>
                    <div>Time Used: ${timeUsed} minutes</div>
                </div>
                
                ${domainHTML}
            </div>
            
            <div class="result-card" style="margin-top: 30px;">
                <div class="card-title">üìù Question Review</div>
                <div style="max-height: 400px; overflow-y: auto; margin-top: 15px;">
                    ${reviewHTML}
                </div>
            </div>
            
            <div style="text-align: center; margin: 40px 0;">
                <button class="nav-button" onclick="location.reload()">Take Another Exam</button>
                <button class="nav-button" onclick="window.print()" style="margin-left: 15px;">Print Results</button>
            </div>
        `;
        
        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
}

// Global functions for HTML onclick handlers
let exam;

function toggleTimer() {
    exam.toggleTimer();
}

function showReview() {
    exam.showReview();
}

// Initialize exam when page loads
document.addEventListener('DOMContentLoaded', function() {
    // Questions will be injected here by the Python generator
    exam = new SAAPracticeExam(window.examQuestions || []);
});

// Add CSS for review items
const additionalCSS = `
    .review-item {
        margin: 10px 0;
        padding: 15px;
        border-radius: 5px;
        border-left: 4px solid #ddd;
    }
    .review-item.correct {
        background: #d4edda;
        border-left-color: #28a745;
    }
    .review-item.incorrect {
        background: #f8d7da;
        border-left-color: #dc3545;
    }
    .review-item.unanswered {
        background: #fff3cd;
        border-left-color: #ffc107;
    }
    .review-question {
        font-weight: bold;
        margin-bottom: 8px;
    }
    .correct-answer {
        color: #28a745;
        font-weight: bold;
    }
    .your-answer {
        color: #dc3545;
        font-weight: bold;
    }
`;

// Inject additional CSS
const style = document.createElement('style');
style.textContent = additionalCSS;
document.head.appendChild(style);

        // Bookmark functionality
        let bookmarkedQuestions = JSON.parse(localStorage.getItem('bookmarkedQuestions') || '[]');
        
        function toggleBookmark(questionIndex) {
            const index = bookmarkedQuestions.indexOf(questionIndex);
            if (index > -1) {
                bookmarkedQuestions.splice(index, 1);
            } else {
                bookmarkedQuestions.push(questionIndex);
            }
            localStorage.setItem('bookmarkedQuestions', JSON.stringify(bookmarkedQuestions));
            updateBookmarkDisplay();
        }
        
        function updateBookmarkDisplay() {
            bookmarkedQuestions.forEach(index => {
                const btn = document.querySelector(`[onclick="toggleBookmark(${index})"]`);
                const question = document.getElementById(`question-${index}`);
                if (btn) btn.classList.add('bookmarked');
                if (question) question.classList.add('bookmarked-questions');
            });
        }
        
        // Initialize bookmarks on load
        document.addEventListener('DOMContentLoaded', updateBookmarkDisplay);

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
            
            switch(e.key) {
                case 'ArrowLeft':
                case 'ArrowUp':
                    e.preventDefault();
                    if (typeof previousQuestion === 'function') previousQuestion();
                    break;
                case 'ArrowRight':
                case 'ArrowDown':
                    e.preventDefault();
                    if (typeof nextQuestion === 'function') nextQuestion();
                    break;
                case '1':
                case '2':
                case '3':
                case '4':
                case '5':
                    e.preventDefault();
                    selectAnswer(parseInt(e.key) - 1);
                    break;
                case 's':
                case 'S':
                    e.preventDefault();
                    if (typeof submitExam === 'function') submitExam();
                    break;
                case 'b':
                case 'B':
                    e.preventDefault();
                    toggleBookmark(currentQuestion);
                    break;
            }
        });
        
        function selectAnswer(index) {
            const options = document.querySelectorAll('.answer-option input[type="radio"]');
            if (options[index]) {
                options[index].click();
            }
        }

        function showEnhancedResults(score, totalQuestions, domainScores) {
            const percentage = Math.round((score / totalQuestions) * 100);
            const passed = percentage >= 72;
            
            document.documentElement.style.setProperty('--score-percentage', percentage);
            
            const resultsHTML = `
                <div class="results-container">
                    <div class="score-circle">
                        <div class="score-text">${percentage}%</div>
                    </div>
                    <h2 style="text-align: center; margin-bottom: 20px;">
                        ${passed ? 'üéâ Congratulations! You Passed!' : 'üìö Keep Studying!'}
                    </h2>
                    <p style="text-align: center; font-size: 1.1em; margin-bottom: 30px;">
                        Score: ${score}/${totalQuestions} (${percentage}%) | 
                        Pass Score: 72% | 
                        Status: <strong>${passed ? 'PASSED' : 'FAILED'}</strong>
                    </p>
                    
                    <div class="domain-breakdown">
                        ${Object.entries(domainScores).map(([domain, data]) => `
                            <div class="domain-card">
                                <h4>${domain}</h4>
                                <p>${data.correct}/${data.total} correct (${Math.round((data.correct/data.total)*100)}%)</p>
                                <div class="domain-progress">
                                    <div class="domain-fill" style="width: ${(data.correct/data.total)*100}%"></div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                    
                    <div style="text-align: center; margin-top: 30px;">
                        <button onclick="location.reload()" class="control-btn" style="margin-right: 10px;">Retake Exam</button>
                        <button onclick="showReview()" class="control-btn">Review Answers</button>
                    </div>
                </div>
            `;
            
            document.getElementById('exam-content').innerHTML = resultsHTML;
        }
    
        
        // Fix Multiple Answer Format
        function getSelectedAnswers(questionIndex) {
            const checkboxes = document.querySelectorAll(`input[name="q${questionIndex}"]:checked`);
            let answers = [];
            checkboxes.forEach(cb => {
                answers.push(cb.value);
            });
            // Return as concatenated string (AB) instead of comma-separated (A,C)
            return answers.sort().join('');
        }
        
        function checkAnswer(questionIndex, correctAnswer) {
            const selectedAnswer = getSelectedAnswers(questionIndex);
            
            // Handle both single and multiple answers
            if (correctAnswer.includes(',')) {
                // Convert comma-separated correct answer to concatenated format
                const correctFormatted = correctAnswer.split(',').map(a => a.trim()).sort().join('');
                return normalizeAnswer(selectedAnswer) === normalizeAnswer(correctFormatted);
            } else {
                return compareAnswers(selectedAnswer, correctAnswer);
            }
        }
        
        // Override existing answer checking
        function submitExam() {
            let score = 0;
            let totalQuestions = questions.length;
            let results = [];
            
            questions.forEach((question, index) => {
                const selectedAnswer = getSelectedAnswers(index);
                const correctAnswer = question.correct;
                const isCorrect = checkAnswer(index, correctAnswer);
                
                if (isCorrect) score++;
                
                results.push({
                    question: index + 1,
                    selected: selectedAnswer,
                    correct: correctAnswer,
                    isCorrect: isCorrect
                });
            });
            
            showResults(score, totalQuestions, results);
        }
    
        
        // Order-independent answer comparison
        function normalizeAnswer(answer) {
            if (!answer) return '';
            return answer.replace(/[,\s]/g, '').split('').sort().join('');
        }
        
        function compareAnswers(userAnswer, correctAnswer) {
            return normalizeAnswer(userAnswer) === normalizeAnswer(correctAnswer);
        }
        
        // Override existing comparison functions
        const originalCheckAnswer = window.checkAnswer;
        window.checkAnswer = function(userAnswer, correctAnswer) {
            return compareAnswers(userAnswer, correctAnswer);
        };
    
        </script>

        <div class="shortcuts-help">
            <strong>Shortcuts:</strong><br>
            ‚Üê ‚Üí Navigate<br>
            1-5 Select Answer<br>
            B Bookmark<br>
            S Submit
        </div>
    
    </body>
</html>